@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --grid-size: 30px;
  --grid-strength: 0.05;
}

@layer base {
  body {
    @apply bg-cyber-black text-cyber-light min-h-screen font-sans;
    position: relative;
    /* keep a fallback color; the animated background element will sit behind content */
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-mono font-bold;
  }
  
  h1 {
    @apply text-3xl md:text-4xl lg:text-5xl;
  }
  
  h2 {
    @apply text-2xl md:text-3xl lg:text-4xl;
  }
  
  h3 {
    @apply text-xl md:text-2xl;
  }

  a {
    @apply text-neon-blue transition-all duration-300;
  }

  a:hover {
    @apply text-neon-blue brightness-125;
  }
}

@layer components {
  .neon-border {
    @apply border border-neon-blue/50 shadow-neon;
  }
  
  .neon-text {
    @apply text-neon-blue animate-glow;
  }
  
  .cyber-panel {
    @apply bg-cyber-dark/80 backdrop-blur-sm border border-cyber-gray/50 rounded-md p-6;
  }
  
  .cyber-button {
    @apply px-4 py-2 bg-cyber-navy border-l-2 border-t-2 border-r-2 border-b-4 border-neon-blue/70
      text-cyber-light hover:bg-neon-blue/10 hover:text-white transition-all duration-300
      focus:outline-none focus:ring-2 focus:ring-neon-blue/50 font-mono uppercase tracking-wider;
  }

  .nav-item {
    @apply p-3 border-l-2 border-transparent hover:border-neon-blue 
      transition-all duration-300 cursor-pointer flex items-center gap-2
      hover:bg-neon-blue/5 hover:translate-x-1;
  }

  .nav-item.active {
    @apply border-l-2 border-neon-blue text-neon-blue bg-cyber-navy/30;
  }
  
  /* Progress bar for skills */
  .skill-progress {
    @apply h-2 bg-cyber-gray rounded-full overflow-hidden;
  }
  
  .skill-progress-bar {
    @apply h-full bg-gradient-to-r from-neon-blue to-neon-purple transition-all duration-700;
  }
  
  /* Card hover effect */
  .cyber-card {
    @apply relative bg-cyber-navy/40 rounded-md p-5 border border-cyber-gray/30
      transition-all duration-300 hover:border-neon-blue/50 hover:shadow-neon overflow-hidden;
  }
  
  .cyber-card::before {
    content: "";
    @apply absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-neon-blue to-transparent opacity-50;
  }
}

/* Geometric patterns and decorations */
.cyber-corner {
  position: relative;
}

.cyber-corner::before, 
.cyber-corner::after {
  content: '';
  @apply absolute w-4 h-4 border-neon-blue/70;
}

.cyber-corner::before {
  @apply top-0 left-0 border-t-2 border-l-2;
}

.cyber-corner::after {
  @apply bottom-0 right-0 border-b-2 border-r-2;
}

/* Custom scroll bar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-cyber-dark;
}

::-webkit-scrollbar-thumb {
  @apply bg-neon-blue/50 hover:bg-neon-blue rounded-full;
}

/* Lively, animated background layers placed in a full-viewport element (.animated-bg) */
.animated-bg {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -10;
  isolation: isolate;
  /* multiple layered backgrounds: moving neon gradients, animated grid, and subtle scanlines */
  background-image:
    /* animated soft color blobs */
    radial-gradient(400px 400px at 10% 20%, rgba(5,217,232,0.12), transparent 15%),
    radial-gradient(500px 500px at 80% 80%, rgba(173,26,175,0.09), transparent 18%),
    /* neon grid - subtle repeated lines */
    linear-gradient(to right, rgba(5,217,232,var(--grid-strength)) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(5,217,232,var(--grid-strength)) 1px, transparent 1px),
    /* scanlines */
    repeating-linear-gradient(transparent 0 3px, rgba(255,255,255,0.01) 3px 4px);
  background-size: 400% 400%, 400% 400%, var(--grid-size) var(--grid-size), var(--grid-size) var(--grid-size), 100% 4px;
  background-blend-mode: screen, screen, overlay, overlay, overlay;
  animation: gradientShift 14s linear infinite, gridDrift 8s linear infinite, scanlinePulse 4s linear infinite;
  opacity: 0.95;
}

/* Stronger "dope" variant with extra neon intensity and particle accents */
.animated-bg.variant-dope {
  background-image:
    radial-gradient(700px 600px at 5% 20%, rgba(5,217,232,0.28), transparent 18%),
    radial-gradient(600px 500px at 90% 75%, rgba(255,56,100,0.22), transparent 20%),
    radial-gradient(500px 400px at 50% 10%, rgba(173,26,175,0.18), transparent 16%),
    linear-gradient(to right, rgba(5,217,232,var(--grid-strength)) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(5,217,232,var(--grid-strength)) 1px, transparent 1px),
    repeating-linear-gradient(transparent 0 3px, rgba(255,255,255,0.02) 3px 4px);
  background-size: 300% 300%, 300% 300%, 300% 300%, var(--grid-size) var(--grid-size), var(--grid-size) var(--grid-size), 100% 4px;
  background-blend-mode: screen, screen, screen, overlay, overlay, overlay;
  animation: gradientShift 12s ease-in-out infinite, gridDrift 9s linear infinite, scanlinePulse 3.2s linear infinite, particleDrift 18s linear infinite;
  opacity: 1;
}

/* Particles using pseudo-elements and CSS variables for simple motion */
.animated-bg.variant-dope::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: radial-gradient(circle at 10% 20%, rgba(255,255,255,0.08) 0 2px, transparent 3px),
                    radial-gradient(circle at 30% 70%, rgba(255,255,255,0.06) 0 2px, transparent 3px),
                    radial-gradient(circle at 70% 40%, rgba(255,255,255,0.05) 0 2px, transparent 3px),
                    radial-gradient(circle at 85% 80%, rgba(255,255,255,0.04) 0 2px, transparent 3px);
  background-size: 8% 8%, 6% 6%, 7% 7%, 5% 5%;
  mix-blend-mode: screen;
  opacity: 0.9;
  transform: translate3d(0,0,0);
  animation: particleDrift 20s linear infinite;
}

@keyframes particleDrift {
  0% { transform: translateY(0) translateX(0) scale(1); }
  50% { transform: translateY(-8%) translateX(4%) scale(1.03); }
  100% { transform: translateY(0) translateX(0) scale(1); }
}

/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .animated-bg,
  .animated-bg.variant-dope,
  .animated-bg::after,
  .animated-bg::before {
    animation: none !important;
    transition: none !important;
    background-position: center !important;
  }
  .animated-bg.variant-dope::before { opacity: 0.3 !important; }
}

/* Subtle noise overlay using SVG data URI to add texture */
.animated-bg::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'><filter id='n'><feTurbulence baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/><feColorMatrix type='saturate' values='0'/><feComponentTransfer><feFuncA type='table' tableValues='0 0.05'/></feComponentTransfer></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.04'/></svg>");
  mix-blend-mode: overlay;
  pointer-events: none;
}

@keyframes gradientShift {
  0% { background-position: 0% 50%, 100% 50%, 0 0, 0 0, 0 0; }
  50% { background-position: 50% 30%, 50% 70%, 200px 200px, 200px 200px, 0 0; }
  100% { background-position: 0% 50%, 100% 50%, 0 0, 0 0, 0 0; }
}

@keyframes gridDrift {
  0% { background-position: 0 0, 0 0, 0 0, 0 0, 0 0; }
  100% { background-position: 200px 0, 0 200px, 0 0, 0 0, 0 0; }
}

@keyframes scanlinePulse {
  0% { opacity: 0.08; }
  50% { opacity: 0.02; }
  100% { opacity: 0.08; }
}

/* Small helper to slightly lift main content above background when needed */
.content-above-bg {
  position: relative;
  z-index: 10;
}

/* Blue preset: cooler neon-blue dominant */
.animated-bg.variant-blue {
  background-image:
    radial-gradient(700px 600px at 10% 25%, rgba(5,217,232,0.36), transparent 18%),
    radial-gradient(600px 500px at 85% 70%, rgba(5,217,232,0.18), transparent 20%),
    linear-gradient(to right, rgba(5,217,232,var(--grid-strength)) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(5,217,232,var(--grid-strength)) 1px, transparent 1px),
    repeating-linear-gradient(transparent 0 3px, rgba(255,255,255,0.02) 3px 4px);
  background-size: 260% 260%, 260% 260%, var(--grid-size) var(--grid-size), var(--grid-size) var(--grid-size), 100% 4px;
  background-blend-mode: screen, screen, overlay, overlay, overlay;
  animation: gradientShift 11s ease-in-out infinite, gridDrift 9s linear infinite, scanlinePulse 3.6s linear infinite;
  opacity: 1;
}

/* Pink preset: magenta / neon-pink focus */
.animated-bg.variant-pink {
  background-image:
    radial-gradient(700px 600px at 15% 20%, rgba(255,56,100,0.34), transparent 18%),
    radial-gradient(600px 500px at 80% 75%, rgba(173,26,175,0.2), transparent 20%),
    linear-gradient(to right, rgba(255,56,100,var(--grid-strength)) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,56,100,var(--grid-strength)) 1px, transparent 1px),
    repeating-linear-gradient(transparent 0 3px, rgba(255,255,255,0.02) 3px 4px);
  background-size: 260% 260%, 260% 260%, var(--grid-size) var(--grid-size), var(--grid-size) var(--grid-size), 100% 4px;
  background-blend-mode: screen, screen, overlay, overlay, overlay;
  animation: gradientShift 10s ease-in-out infinite, gridDrift 8s linear infinite, scanlinePulse 3s linear infinite;
  opacity: 1;
}

/* Green preset: neon green / acid vibe */
.animated-bg.variant-green {
  background-image:
    radial-gradient(700px 600px at 10% 20%, rgba(57,255,20,0.30), transparent 18%),
    radial-gradient(600px 500px at 85% 75%, rgba(5,217,232,0.12), transparent 20%),
    linear-gradient(to right, rgba(57,255,20,var(--grid-strength)) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(57,255,20,var(--grid-strength)) 1px, transparent 1px),
    repeating-linear-gradient(transparent 0 3px, rgba(255,255,255,0.02) 3px 4px);
  background-size: 260% 260%, 260% 260%, var(--grid-size) var(--grid-size), var(--grid-size) var(--grid-size), 100% 4px;
  background-blend-mode: screen, screen, overlay, overlay, overlay;
  animation: gradientShift 12s ease-in-out infinite, gridDrift 10s linear infinite, scanlinePulse 3.8s linear infinite;
  opacity: 1;
}

/* Subtle preset: keep the grid but reduce intensity for a calmer background */
.animated-bg.variant-subtle {
  background-image:
    radial-gradient(600px 400px at 20% 30%, rgba(5,217,232,0.08), transparent 18%),
    radial-gradient(500px 350px at 80% 70%, rgba(173,26,175,0.06), transparent 20%),
    linear-gradient(to right, rgba(5,217,232,calc(var(--grid-strength)/1.6)) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(5,217,232,calc(var(--grid-strength)/1.6)) 1px, transparent 1px);
  background-size: 200% 200%, 200% 200%, var(--grid-size) var(--grid-size), var(--grid-size) var(--grid-size);
  background-blend-mode: screen, screen, overlay, overlay;
  animation: gradientShift 22s ease-in-out infinite, gridDrift 18s linear infinite;
  opacity: 0.85;
}